<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Padres Rambleta Championship</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .stadium-bg {
            background-color: #f8fafc;
            background-image: radial-gradient(#e2e8f0 0.5px, transparent 0.5px);
            background-size: 20px 20px;
        }
    </style>
</head>
<body class="stadium-bg min-h-screen text-slate-900 pb-10">

    <!-- Header Evento -->
    <header class="bg-slate-900 text-white shadow-2xl">
        <div class="max-w-6xl mx-auto p-6 md:p-8">
            <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                <div class="text-center md:text-left">
                    <h1 class="text-3xl md:text-5xl font-black italic tracking-tighter text-yellow-400 mb-2">
                        PADRES RAMBLETA CHAMPIONSHIP
                    </h1>
                    <div class="flex flex-wrap justify-center md:justify-start gap-4 text-slate-300 font-medium">
                        <span class="flex items-center gap-1"><i data-lucide="calendar" class="w-4 h-4 text-yellow-400"></i> Hoy, 20:30h</span>
                        <span class="flex items-center gap-1"><i data-lucide="map-pin" class="w-4 h-4 text-yellow-400"></i> Rambleta Stadium</span>
                    </div>
                </div>
                <div class="bg-slate-800 p-4 rounded-2xl border border-slate-700 text-center min-w-[150px]">
                    <p class="text-[10px] font-bold text-slate-400 uppercase mb-1">Rotaci贸n cada</p>
                    <p class="text-2xl font-black text-white">5 MIN</p>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-5xl mx-auto p-4 md:p-8 space-y-8">
        
        <!-- Controles: Reloj y Simulador -->
        <div class="grid md:grid-cols-2 gap-6">
            
            <!-- Reloj Tiempo Real -->
            <div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-200 ring-1 ring-slate-100">
                <div class="flex items-center justify-between mb-4">
                    <span class="text-xs font-black uppercase tracking-widest text-slate-400 italic">Cron贸metro</span>
                    <i data-lucide="timer" class="text-indigo-500 w-5 h-5"></i>
                </div>
                <div id="game-time" class="text-7xl font-black text-slate-800 tabular-nums mb-6 tracking-tight">00:00</div>
                <div class="flex gap-2">
                    <button onclick="toggleTimer()" id="btn-timer" class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-indigo-100">
                        <i data-lucide="play" id="icon-play"></i> <span id="text-play">Iniciar Partido</span>
                    </button>
                    <button onclick="resetTimer()" class="bg-slate-100 hover:bg-slate-200 text-slate-600 px-6 rounded-2xl transition-all">
                        <i data-lucide="rotate-ccw"></i>
                    </button>
                </div>
            </div>

            <!-- Simulador de Futuro -->
            <div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-200 ring-1 ring-slate-100">
                <div class="flex items-center justify-between mb-4">
                    <span class="text-xs font-black uppercase tracking-widest text-slate-400 italic">Previsualizar Turnos</span>
                    <div class="bg-purple-100 text-purple-700 px-2 py-1 rounded-md text-[10px] font-bold">SIMULADOR</div>
                </div>
                <div class="space-y-6">
                    <div>
                        <div class="flex justify-between mb-4">
                            <span class="text-sm font-bold text-slate-700">Estado en el minuto:</span>
                            <span id="label-sim-min" class="text-xl font-black text-purple-600">0</span>
                        </div>
                        <input type="range" id="sim-slider" min="0" max="60" step="5" value="0" class="w-full h-3 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-purple-600">
                    </div>
                    <div class="bg-slate-50 p-3 rounded-xl border border-slate-100">
                        <p class="text-[11px] text-slate-500 leading-relaxed">
                            <span class="font-bold text-slate-700 uppercase block mb-1">驴C贸mo funciona?</span>
                            Desliza la barra para ver la rotaci贸n futura. El sistema mover谩 autom谩ticamente al banquillo al campo y rotar谩 al portero seg煤n tu configuraci贸n.
                        </p>
                    </div>
                </div>
            </div>

        </div>

        <!-- Equipos -->
        <div class="grid md:grid-cols-2 gap-8">
            
            <!-- Equipo Amarillo -->
            <div class="space-y-4">
                <div class="flex items-center gap-3 bg-yellow-400 p-5 rounded-2xl shadow-xl shadow-yellow-100 border-b-4 border-yellow-500">
                    <div class="text-3xl"></div>
                    <h2 class="font-black text-yellow-900 italic text-xl">EQUIPO AMARILLO</h2>
                </div>
                <div id="team-yellow-list" class="space-y-3"></div>
            </div>

            <!-- Equipo Naranja -->
            <div class="space-y-4">
                <div class="flex items-center gap-3 bg-orange-500 p-5 rounded-2xl shadow-xl shadow-orange-100 border-b-4 border-orange-600">
                    <div class="text-3xl">А</div>
                    <h2 class="font-black text-white italic text-xl">EQUIPO NARANJA</h2>
                </div>
                <div id="team-orange-list" class="space-y-3"></div>
            </div>

        </div>

    </main>

    <script>
        // Los jugadores se mantienen en este orden inicial
        const playersYellow = ["Jugador 1", "Jugador 2", "Jugador 3", "Jugador 4", "Jugador 5", "Jugador 6"];
        const playersOrange = ["Jugador 1", "Jugador 2", "Jugador 3", "Jugador 4", "Jugador 5", "Jugador 6"];

        let seconds = 0;
        let timerInterval = null;
        let isSimulating = false;

        const slider = document.getElementById('sim-slider');
        const labelSim = document.getElementById('label-sim-min');

        slider.addEventListener('input', (e) => {
            isSimulating = true;
            const min = parseInt(e.target.value);
            labelSim.innerText = min;
            if (timerInterval) toggleTimer(); 
            updateDisplay(min * 60);
        });

        function updateDisplay(currentSeconds) {
            const iteration = Math.floor(currentSeconds / 300);
            
            renderTeam('team-yellow-list', playersYellow, iteration, 'yellow');
            renderTeam('team-orange-list', playersOrange, iteration, 'orange');
            
            if (!isSimulating) {
                const mins = Math.floor(currentSeconds / 60).toString().padStart(2, '0');
                const secs = (currentSeconds % 60).toString().padStart(2, '0');
                document.getElementById('game-time').innerText = `${mins}:${secs}`;
                slider.value = Math.floor(currentSeconds / 60);
                labelSim.innerText = slider.value;
            }

            lucide.createIcons();
        }

        function renderTeam(containerId, originalPlayers, iter, color) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            let displayOrder = [...originalPlayers];
            
            // L贸gica de rotaci贸n solicitada: 
            // Cada 5 min, el 6 entra, el 5 sale al banquillo, el 2 va de portero...
            for(let i = 0; i < iter; i++) {
                let benchPlayer = displayOrder.pop(); 
                displayOrder.unshift(benchPlayer);   
            }

            displayOrder.forEach((name, index) => {
                let role = "Jugador";
                let icon = "user";
                let bgColor = "bg-white border-slate-200";
                let textColor = "text-slate-800";
                let badge = "";

                // Posici贸n 2 (originalmente Jugador 3) es Portero
                if (index === 2) {
                    role = "Portero";
                    icon = "shield-check";
                    bgColor = color === 'yellow' ? "bg-yellow-50 border-yellow-400 ring-2 ring-yellow-400" : "bg-orange-50 border-orange-400 ring-2 ring-orange-400";
                    badge = `<span class="bg-${color === 'yellow' ? 'yellow-500' : 'orange-500'} text-white text-[8px] font-black px-1.5 py-0.5 rounded ml-2">GK</span>`;
                } 
                // Posici贸n 5 (originalmente Jugador 6) es Banquillo
                else if (index === 5) {
                    role = "Banquillo";
                    icon = "user-minus";
                    bgColor = "bg-slate-50 border-dashed border-slate-300 opacity-60";
                    textColor = "text-slate-400";
                }

                const card = document.createElement('div');
                card.className = `flex items-center justify-between p-4 rounded-2xl border ${bgColor} ${textColor} transition-all duration-300`;
                card.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="p-2 rounded-lg ${index === 2 ? 'bg-white' : 'bg-slate-50'}">
                            <i data-lucide="${icon}" class="w-5 h-5"></i>
                        </div>
                        <span class="font-bold text-lg">${name}${badge}</span>
                    </div>
                    <div class="text-right">
                        <p class="text-[9px] font-black uppercase tracking-widest opacity-60">${role}</p>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function toggleTimer() {
            const btn = document.getElementById('btn-timer');
            const icon = document.getElementById('icon-play');
            const text = document.getElementById('text-play');

            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
                text.innerText = "Reanudar Partido";
                icon.setAttribute('data-lucide', 'play');
                btn.className = btn.className.replace('bg-red-500', 'bg-indigo-600');
            } else {
                isSimulating = false;
                timerInterval = setInterval(() => {
                    seconds++;
                    updateDisplay(seconds);
                }, 1000);
                text.innerText = "Pausar Tiempo";
                icon.setAttribute('data-lucide', 'pause');
                btn.className = btn.className.replace('bg-indigo-600', 'bg-red-500');
            }
            lucide.createIcons();
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            seconds = 0;
            isSimulating = false;
            document.getElementById('text-play').innerText = "Iniciar Partido";
            document.getElementById('icon-play').setAttribute('data-lucide', 'play');
            document.getElementById('btn-timer').className = "flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-4 rounded-2xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-indigo-100";
            slider.value = 0;
            labelSim.innerText = "0";
            updateDisplay(0);
        }

        updateDisplay(0);
    </script>
</body>
</html>
