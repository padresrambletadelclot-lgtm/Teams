<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gran Partido de Padres - Rotaciones</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">

    <!-- Navbar -->
    <nav class="bg-slate-900 text-white p-4 shadow-md">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <span class="font-black italic tracking-tighter text-xl text-yellow-400">PAPA-LEAGUE</span>
            <div id="status-badge" class="bg-green-500 text-[10px] px-2 py-1 rounded-full font-bold animate-pulse">EN VIVO</div>
        </div>
    </nav>

    <main class="max-w-4xl mx-auto p-4 md:p-8">
        
        <!-- Timer Card -->
        <div class="bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden mb-8">
            <div class="bg-slate-100 p-4 border-b border-slate-200 text-center">
                <p class="text-slate-500 text-xs font-bold uppercase">Tiempo de Juego</p>
            </div>
            <div class="p-8 text-center">
                <div id="game-time" class="text-7xl md:text-8xl font-black text-slate-800 tabular-nums tracking-tight">00:00</div>
                <div class="flex justify-center gap-3 mt-8">
                    <button onclick="toggleTimer()" id="btn-timer" class="bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-2xl font-bold transition-all flex items-center gap-2 shadow-lg shadow-indigo-200">
                        <i data-lucide="play"></i> <span id="btn-text">Iniciar Partido</span>
                    </button>
                    <button onclick="resetTimer()" class="bg-slate-200 hover:bg-slate-300 text-slate-700 px-6 py-4 rounded-2xl font-bold transition-all">
                        <i data-lucide="rotate-ccw"></i>
                    </button>
                </div>
            </div>
        </div>

        <div class="grid md:grid-cols-2 gap-6">
            <!-- Equipo Amarillo -->
            <div class="space-y-4">
                <div class="flex items-center gap-2 px-2">
                    <span class="text-2xl">游눝</span>
                    <h2 class="text-xl font-extrabold text-slate-800 uppercase italic">Equipo Amarillo</h2>
                </div>
                <div id="team-yellow-list" class="space-y-3"></div>
            </div>

            <!-- Equipo Naranja -->
            <div class="space-y-4">
                <div class="flex items-center gap-2 px-2">
                    <span class="text-2xl">游비</span>
                    <h2 class="text-xl font-extrabold text-slate-800 uppercase italic">Equipo Naranja</h2>
                </div>
                <div id="team-orange-list" class="space-y-3"></div>
            </div>
        </div>

    </main>

    <script>
        const playersYellow = ["Padre 1", "Padre 2", "Padre 3", "Padre 4", "Padre 5", "Padre 6"];
        const playersOrange = ["Padre 1", "Padre 2", "Padre 3", "Padre 4", "Padre 5", "Padre 6"];

        let seconds = 0;
        let timerInterval = null;

        function updateUI() {
            const iteration = Math.floor(seconds / 300); // 300s = 5 minutos
            
            renderTeam('team-yellow-list', playersYellow, iteration, 'yellow');
            renderTeam('team-orange-list', playersOrange, iteration, 'orange');
            
            const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
            const secs = (seconds % 60).toString().padStart(2, '0');
            document.getElementById('game-time').innerText = `${mins}:${secs}`;
            
            lucide.createIcons();
        }

        function renderTeam(containerId, originalPlayers, iter, color) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            let displayOrder = [...originalPlayers];
            
            // Rotaci칩n l칩gica: El del banquillo entra al inicio, el resto corre
            for(let i = 0; i < iter; i++) {
                let benchPlayer = displayOrder.pop();
                displayOrder.unshift(benchPlayer);
            }

            displayOrder.forEach((name, index) => {
                let role = "Jugador";
                let icon = "user";
                let style = "bg-white border-slate-200";

                // Siguiendo tu l칩gica: el 3ero de la lista es portero (index 2)
                // El 칰ltimo es banquillo (index 5)
                if (index === 2) {
                    role = "Portero";
                    icon = "shield-check";
                    style = color === 'yellow' ? "bg-yellow-100 border-yellow-400 ring-2 ring-yellow-400" : "bg-orange-100 border-orange-400 ring-2 ring-orange-400";
                } else if (index === 5) {
                    role = "Banquillo";
                    icon = "clock";
                    style = "bg-slate-100 border-dashed border-slate-300 opacity-60";
                }

                const div = document.createElement('div');
                div.className = `flex items-center justify-between p-4 rounded-2xl border ${style} transition-all duration-500`;
                div.innerHTML = `
                    <div class="flex items-center gap-3">
                        <i data-lucide="${icon}" class="w-5 h-5"></i>
                        <span class="font-bold text-slate-800">${name}</span>
                    </div>
                    <span class="text-[10px] font-black uppercase tracking-widest opacity-50">${role}</span>
                `;
                container.appendChild(div);
            });
        }

        function toggleTimer() {
            const btn = document.getElementById('btn-timer');
            const txt = document.getElementById('btn-text');
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
                txt.innerText = "Reanudar";
                btn.classList.replace('bg-red-500', 'bg-indigo-600');
            } else {
                timerInterval = setInterval(() => {
                    seconds++;
                    updateUI();
                }, 1000);
                txt.innerText = "Pausar";
                btn.classList.replace('bg-indigo-600', 'bg-red-500');
            }
            lucide.createIcons();
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            seconds = 0;
            document.getElementById('btn-text').innerText = "Iniciar Partido";
            document.getElementById('btn-timer').classList.replace('bg-red-500', 'bg-indigo-600');
            updateUI();
        }

        updateUI();
    </script>
</body>
</html>

