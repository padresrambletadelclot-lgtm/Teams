<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Padres Rambleta Championship</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { 
            font-family: 'Inter', sans-serif; 
            background-color: #f8fafc;
        }
        .player-card {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="min-h-screen text-slate-900 pb-12">

    <!-- Header (Scrollable) -->
    <header class="bg-slate-900 text-white shadow-lg">
        <div class="max-w-4xl mx-auto p-6 text-center">
            <h1 class="text-2xl md:text-3xl font-black italic tracking-tighter text-yellow-400">
                PADRES RAMBLETA CHAMPIONSHIP
            </h1>
            <div class="flex justify-center gap-4 mt-2 text-slate-400 text-[10px] font-bold uppercase tracking-widest">
                <span class="flex items-center gap-1"><i data-lucide="map-pin" class="w-3 h-3 text-yellow-500"></i> Rambleta Stadium</span>
                <span class="flex items-center gap-1"><i data-lucide="clock" class="w-3 h-3 text-yellow-500"></i> Hoy, 20:30h</span>
            </div>
        </div>
    </header>

    <main class="max-w-4xl mx-auto p-4 space-y-6">
        
        <!-- Dashboard de Control -->
        <div class="grid md:grid-cols-2 gap-4">
            <!-- Reloj -->
            <div class="bg-white rounded-2xl p-4 shadow-sm border border-slate-200">
                <div class="flex items-center justify-between mb-1">
                    <span class="text-[10px] font-black uppercase text-slate-400 tracking-tight">Tiempo de Juego</span>
                    <i data-lucide="timer" class="text-indigo-500 w-4 h-4"></i>
                </div>
                <div id="game-time" class="text-5xl font-black text-slate-800 tabular-nums text-center mb-4">00:00</div>
                <div class="flex gap-2">
                    <button onclick="toggleTimer()" id="btn-timer" class="flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all">
                        <i data-lucide="play" id="icon-play" class="w-4 h-4"></i> <span id="text-play">Empezar</span>
                    </button>
                    <button onclick="resetTimer()" class="bg-slate-100 hover:bg-slate-200 text-slate-600 px-4 rounded-xl transition-all border border-slate-200">
                        <i data-lucide="rotate-ccw" class="w-4 h-4"></i>
                    </button>
                </div>
            </div>

            <!-- Simulador -->
            <div class="bg-white rounded-2xl p-4 shadow-sm border border-slate-200">
                <div class="flex items-center justify-between mb-4">
                    <span class="text-[10px] font-black uppercase text-slate-400">Simulador de Turnos</span>
                    <span id="label-sim-min" class="text-sm font-black text-purple-600 bg-purple-50 px-2 py-0.5 rounded">Minuto 0</span>
                </div>
                <input type="range" id="sim-slider" min="0" max="60" step="5" value="0" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-purple-600 mb-2">
                <p class="text-[9px] text-slate-400 italic text-center leading-tight tracking-tight">Mueve para ver quiÃ©n entra al campo o va a porterÃ­a cada 5 min.</p>
            </div>
        </div>

        <!-- Equipos -->
        <div class="grid md:grid-cols-2 gap-6">
            
            <!-- Equipo Amarillo -->
            <div class="space-y-3">
                <div class="bg-yellow-400 p-3 rounded-xl shadow-md flex items-center justify-between border-b-4 border-yellow-600">
                    <h2 class="font-black text-yellow-900 italic text-sm uppercase">EQUIPO AMARILLO ðŸ’›</h2>
                </div>
                <div id="team-yellow-list" class="space-y-2"></div>
            </div>

            <!-- Equipo Naranja -->
            <div class="space-y-3">
                <div class="bg-orange-500 p-3 rounded-xl shadow-md flex items-center justify-between border-b-4 border-orange-700">
                    <h2 class="font-black text-white italic text-sm uppercase">EQUIPO NARANJA ðŸ§¡</h2>
                </div>
                <div id="team-orange-list" class="space-y-2"></div>
            </div>

        </div>
    </main>

    <script>
        // ORDEN DE JUGADORES ESTRICTO
        const playersYellow = ["Albert M", "Iban", "Michele", "Victor", "Joan", "Robert"];
        const playersOrange = ["Mikel", "Guillermo", "Gabriel", "Jordi", "Mike", "Giacomo"];

        let seconds = 0;
        let timerInterval = null;
        let isSimulating = false;

        const slider = document.getElementById('sim-slider');
        const labelSim = document.getElementById('label-sim-min');

        slider.addEventListener('input', (e) => {
            isSimulating = true;
            const min = parseInt(e.target.value);
            labelSim.innerText = `Minuto ${min}`;
            if (timerInterval) pauseTimer(); 
            updateDisplay(min * 60);
        });

        function updateDisplay(currentSeconds) {
            const iteration = Math.floor(currentSeconds / 300); // 5 minutos = 300 segundos
            
            renderTeam('team-yellow-list', playersYellow, iteration, 'yellow');
            renderTeam('team-orange-list', playersOrange, iteration, 'orange');
            
            if (!isSimulating) {
                const mins = Math.floor(currentSeconds / 60).toString().padStart(2, '0');
                const secs = (currentSeconds % 60).toString().padStart(2, '0');
                document.getElementById('game-time').innerText = `${mins}:${secs}`;
                slider.value = Math.floor(currentSeconds / 60);
                labelSim.innerText = `Minuto ${slider.value}`;
            }
            lucide.createIcons();
        }

        function renderTeam(containerId, originalPlayers, iter, color) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            let displayOrder = [...originalPlayers];
            
            // LÃ“GICA DE ROTACIÃ“N:
            // Cada 5 min: El 6 entra a jugar, el 5 sale al banquillo.
            // Para lograr esto en cÃ³digo de forma circular:
            for(let i = 0; i < iter; i++) {
                let benchPlayer = displayOrder.pop(); 
                displayOrder.unshift(benchPlayer);   
            }

            displayOrder.forEach((name, index) => {
                let role = "En Campo";
                let icon = "user";
                let bgColor = "bg-white border-slate-200 shadow-sm";
                let tagColor = "bg-slate-100 text-slate-500";

                // Index 2 (Jugador 3 originalmente) es Portero
                if (index === 2) {
                    role = "Portero";
                    icon = "shield";
                    bgColor = color === 'yellow' ? "bg-yellow-50 border-yellow-300 ring-1 ring-yellow-400/30" : "bg-orange-50 border-orange-300 ring-1 ring-orange-500/30";
                    tagColor = color === 'yellow' ? "bg-yellow-500 text-white" : "bg-orange-600 text-white";
                } 
                // Index 5 (Jugador 6 originalmente) es Banquillo
                else if (index === 5) {
                    role = "Banquillo";
                    icon = "pause-circle";
                    bgColor = "bg-slate-50 border-dashed border-slate-300 opacity-60";
                    tagColor = "bg-slate-400 text-white";
                }

                const card = document.createElement('div');
                card.className = `player-card flex items-center justify-between p-3 rounded-xl border ${bgColor}`;
                card.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="p-1.5 rounded-lg ${index === 2 ? 'bg-white shadow-sm' : ''}">
                            <i data-lucide="${icon}" class="w-4 h-4"></i>
                        </div>
                        <span class="font-bold text-slate-800 text-sm tracking-tight">${name}</span>
                    </div>
                    <span class="text-[8px] font-black uppercase px-2 py-0.5 rounded-md ${tagColor}">${role}</span>
                `;
                container.appendChild(card);
            });
        }

        function toggleTimer() {
            const btn = document.getElementById('btn-timer');
            const icon = document.getElementById('icon-play');
            const text = document.getElementById('text-play');

            if (timerInterval) {
                pauseTimer();
            } else {
                isSimulating = false;
                timerInterval = setInterval(() => {
                    seconds++;
                    updateDisplay(seconds);
                }, 1000);
                text.innerText = "Pausar";
                icon.setAttribute('data-lucide', 'pause');
                btn.classList.replace('bg-indigo-600', 'bg-red-500');
            }
            lucide.createIcons();
        }

        function pauseTimer() {
            const btn = document.getElementById('btn-timer');
            const icon = document.getElementById('icon-play');
            const text = document.getElementById('text-play');
            clearInterval(timerInterval);
            timerInterval = null;
            text.innerText = "Reanudar";
            icon.setAttribute('data-lucide', 'play');
            btn.classList.replace('bg-red-500', 'bg-indigo-600');
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            seconds = 0;
            isSimulating = false;
            document.getElementById('text-play').innerText = "Empezar";
            document.getElementById('icon-play').setAttribute('data-lucide', 'play');
            document.getElementById('btn-timer').className = "flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-md";
            slider.value = 0;
            labelSim.innerText = "Minuto 0";
            updateDisplay(0);
        }

        // Carga inicial
        updateDisplay(0);
    </script>
</body>
</html>

