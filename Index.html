<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gran Partido de Padres - Rotaciones</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons for nice visuals -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .pitch-gradient {
            background: radial-gradient(circle at center, #2d5a27 0%, #1a3a16 100%);
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen pb-12">

    <!-- Header -->
    <header class="bg-blue-600 text-white py-8 px-4 shadow-lg text-center">
        <h1 class="text-3xl md:text-5xl font-extrabold uppercase tracking-tighter italic">
            El Cl谩sico de los Padres
        </h1>
        <p class="mt-2 text-blue-100 opacity-90">Gesti贸n de Equipos y Rotaciones Autom谩ticas</p>
    </header>

    <main class="max-w-6xl mx-auto px-4 mt-8">
        
        <!-- Timer Section -->
        <section class="bg-white rounded-3xl p-6 shadow-sm mb-8 border border-gray-200 text-center">
            <h2 class="text-sm font-semibold text-gray-500 uppercase tracking-widest mb-2">Reloj del Partido</h2>
            <div id="game-time" class="text-6xl font-black text-gray-800 tabular-nums">00:00</div>
            <div class="mt-4 flex justify-center gap-4">
                <button onclick="toggleTimer()" id="btn-timer" class="bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-full font-bold transition-all flex items-center gap-2">
                    <i data-lucide="play"></i> Iniciar Partido
                </button>
                <button onclick="resetTimer()" class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-8 py-3 rounded-full font-bold transition-all flex items-center gap-2">
                    <i data-lucide="rotate-ccw"></i> Reiniciar
                </button>
            </div>
            <p class="mt-4 text-sm text-gray-500 italic">
                Nota: La rotaci贸n cambia autom谩ticamente cada 5 minutos.
            </p>
        </section>

        <div class="grid md:grid-cols-2 gap-8">
            <!-- Equipo Amarillo -->
            <div class="bg-yellow-50 rounded-3xl p-6 border-4 border-yellow-400 shadow-xl">
                <div class="flex items-center gap-3 mb-6">
                    <div class="w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center text-2xl shadow-inner"></div>
                    <h2 class="text-2xl font-black text-yellow-800 uppercase">Equipo Amarillo</h2>
                </div>
                <div id="team-yellow-list" class="space-y-3">
                    <!-- Din谩mico -->
                </div>
            </div>

            <!-- Equipo Naranja -->
            <div class="bg-orange-50 rounded-3xl p-6 border-4 border-orange-400 shadow-xl">
                <div class="flex items-center gap-3 mb-6">
                    <div class="w-12 h-12 bg-orange-400 rounded-full flex items-center justify-center text-2xl shadow-inner">А</div>
                    <h2 class="text-2xl font-black text-orange-800 uppercase">Equipo Naranja</h2>
                </div>
                <div id="team-orange-list" class="space-y-3">
                    <!-- Din谩mico -->
                </div>
            </div>
        </div>

        <!-- Explicaci贸n de la l贸gica -->
        <section class="mt-12 bg-gray-800 text-white rounded-3xl p-8">
            <h3 class="text-xl font-bold mb-4 flex items-center gap-2">
                <i data-lucide="info"></i> Sistema de Rotaci贸n
            </h3>
            <div class="grid md:grid-cols-3 gap-6 text-sm text-gray-300">
                <div class="bg-gray-700 p-4 rounded-xl">
                    <span class="font-bold text-yellow-400 block mb-1">Porter铆a:</span>
                    El portero va rotando hacia atr谩s en la lista de jugadores de campo.
                </div>
                <div class="bg-gray-700 p-4 rounded-xl">
                    <span class="font-bold text-green-400 block mb-1">Banquillo:</span>
                    Cada 5 min, el jugador en el banquillo entra y el 煤ltimo de campo sale.
                </div>
                <div class="bg-gray-700 p-4 rounded-xl">
                    <span class="font-bold text-blue-400 block mb-1">Tiempo:</span>
                    Ideal para que todos jueguen lo mismo y nadie se canse demasiado.
                </div>
            </div>
        </section>
    </main>

    <script>
        // Configuraci贸n inicial de jugadores
        const playersYellow = ["Jugador 1", "Jugador 2", "Jugador 3", "Jugador 4", "Jugador 5", "Jugador 6"];
        const playersOrange = ["Jugador 1", "Jugador 2", "Jugador 3", "Jugador 4", "Jugador 5", "Jugador 6"];

        let seconds = 0;
        let timerInterval = null;

        function updateUI() {
            // Calcular en qu茅 iteraci贸n estamos (0, 1, 2, 3...)
            // Cada bloque de 5 minutos (300 segundos) es una iteraci贸n
            const iteration = Math.floor(seconds / 300);
            
            renderTeam('team-yellow-list', playersYellow, iteration, 'yellow');
            renderTeam('team-orange-list', playersOrange, iteration, 'orange');
            
            // Actualizar reloj
            const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
            const secs = (seconds % 60).toString().padStart(2, '0');
            document.getElementById('game-time').innerText = `${mins}:${secs}`;
            
            lucide.createIcons();
        }

        function renderTeam(containerId, originalPlayers, iter, color) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            // LGICA DE ROTACIN SOLICITADA:
            // - Jugador 6 entra, Jugador 5 al banquillo.
            // - Jugador 2 a porter铆a, luego Jugador 1...
            // Hacemos una copia profunda para no alterar la base
            let displayOrder = [...originalPlayers];

            /* Implementamos un desplazamiento circular basado en la iteraci贸n.
               Para que el 6 entre y el 5 salga, y el portero rote:
            */
            for(let i = 0; i < iter; i++) {
                // El 煤ltimo (banquillo) pasa a ser el primero de campo
                // El que estaba en campo sale al banquillo
                let bench = displayOrder.pop();
                displayOrder.unshift(bench);
            }

            // Seg煤n tu descripci贸n:
            // Posici贸n 0, 1, 2 son campo
            // Posici贸n 3 es Portero (inicialmente Jugador 3)
            // Posici贸n 4 es campo
            // Posici贸n 5 es Banquillo (inicialmente Jugador 6)

            displayOrder.forEach((name, index) => {
                let role = "Jugador de Campo";
                let icon = "user";
                let bgClass = "bg-white";
                let textColor = "text-gray-700";

                // Definimos roles fijos en la lista visual:
                if (index === 2) { // El tercero de la lista es Portero
                    role = "Portero";
                    icon = "shield";
                    bgClass = color === 'yellow' ? 'bg-yellow-200 border-yellow-500' : 'bg-orange-200 border-orange-500';
                } else if (index === 5) { // El 煤ltimo es Banquillo
                    role = "Banquillo";
                    icon = "armchair";
                    bgClass = "bg-gray-200 grayscale";
                    textColor = "text-gray-400";
                }

                const card = document.createElement('div');
                card.className = `${bgClass} flex items-center justify-between p-4 rounded-2xl border shadow-sm transition-all duration-500`;
                card.innerHTML = `
                    <div class="flex items-center gap-4">
                        <div class="p-2 rounded-lg bg-opacity-20 ${color === 'yellow' ? 'bg-yellow-600' : 'bg-orange-600'}">
                            <i data-lucide="${icon}" class="w-5 h-5 ${color === 'yellow' ? 'text-yellow-700' : 'text-orange-700'}"></i>
                        </div>
                        <div>
                            <p class="font-bold ${textColor}">${name}</p>
                            <p class="text-xs uppercase font-semibold opacity-60">${role}</p>
                        </div>
                    </div>
                    ${index === 2 ? '<span class="text-xs font-bold bg-black text-white px-2 py-1 rounded">TITULAR</span>' : ''}
                `;
                container.appendChild(card);
            });
        }

        function toggleTimer() {
            const btn = document.getElementById('btn-timer');
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
                btn.innerHTML = '<i data-lucide="play"></i> Reanudar';
                btn.classList.replace('bg-red-500', 'bg-green-500');
            } else {
                timerInterval = setInterval(() => {
                    seconds++;
                    updateUI();
                }, 1000);
                btn.innerHTML = '<i data-lucide="pause"></i> Pausar';
                btn.classList.replace('bg-green-500', 'bg-red-500');
            }
            lucide.createIcons();
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            seconds = 0;
            const btn = document.getElementById('btn-timer');
            btn.innerHTML = '<i data-lucide="play"></i> Iniciar Partido';
            btn.classList.replace('bg-red-500', 'bg-green-500');
            updateUI();
        }

        // Inicializar
        updateUI();
    </script>
</body>
</html>

